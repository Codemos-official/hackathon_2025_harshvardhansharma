{% extends 'base.html' %}

{% block title %}{{ 'Edit Class' if entry else 'Add Class' }} - Gap2Growth{% endblock %}

{% block content %}
<div class="page-header">
    <h1>{{ 'Edit Class Schedule' if entry else 'Add Class Schedule' }}</h1>
    <p>{{ 'Update class timing and status.' if entry else 'Add a new class to your schedule.' }}</p>
</div>

<div class="form-card">
    <form method="POST">
        <div class="form-group">
            <label>Day <span>*</span></label>
            <select class="form-select" name="day" required>
                <option value="">Select day...</option>
                {% for day in ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'] %}
                <option value="{{ day }}" {{ 'selected' if entry and entry.day==day else '' }}>{{ day }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="form-row">
            <div class="form-group">
                <label>Start Time <span>*</span></label>
                <input type="time" class="form-control" name="start_time"
                    value="{{ entry.start_time if entry else '' }}" required>
            </div>
            <div class="form-group">
                <label>End Time <span>*</span></label>
                <input type="time" class="form-control" name="end_time" value="{{ entry.end_time if entry else '' }}"
                    required>
            </div>
        </div>

        <div class="form-group">
            <label>Course</label>
            <input type="text" class="form-control" name="course"
                value="{{ entry.course if entry else user.course or '' }}" placeholder="Course name">
        </div>

        {% if entry %}
        <div class="form-group">
            <label>Status</label>
            <select class="form-select" name="status">
                <option value="scheduled" {{ 'selected' if entry.status=='scheduled' else '' }}>Scheduled</option>
                <option value="cancelled" {{ 'selected' if entry.status=='cancelled' else '' }}>Cancelled</option>
                <option value="rescheduled" {{ 'selected' if entry.status=='rescheduled' else '' }}>Rescheduled</option>
            </select>
        </div>
        {% endif %}

        <div class="form-actions">
            <button type="submit" class="btn btn-primary">
                <i class="bi bi-check"></i> {{ 'Update' if entry else 'Add' }} Class
            </button>
            <a href="{{ url_for('teacher.timetable') }}" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}